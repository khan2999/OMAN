<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Manager Dashboard</title>
    <!-- Keep only one Bootstrap CSS link to avoid conflicts -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="../static/css/styles.css">
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.2.2/dist/echarts.min.js"></script>
    <script src="https://cdn.socket.io/4.0.0/socket.io.min.js"></script>
</head>
<body>
<h1 class="text-center">Chart Analysis</h1>
<div class="link-button">
    <a href="/kpi_reports" class="btn btn-info">View KPI Reports</a>
</div>
<div class="filter-container">
    <select id="chartSelector" class="filter form-control">
        <option value="total_sales_by_category" data-filters="category region date">Total Sales by Category</option>
        <option value="sales_trends_over_time" data-filters="date">Sales Trends Over Time</option>
        <option value="top_selling_products" data-filters="category">Top Selling Products</option>
        <option value="customer_distribution" data-filters="region">Customer Distribution by Region</option>
        <option value="average_order_value" data-filters="">Average Order Value</option>
        <option value="customer_growth" data-filters="">Customer Growth</option>
        <option value="customer_lifetime_value" data-filters="">Customer Lifetime Value</option>
        </option>
    </select>
    <div id="dateFilters" class="filter-group">
        <input type="date" id="startDate" class="filter form-control">
        <input type="date" id="endDate" class="filter form-control">
    </div>
    <div id="categoryFilters" class="filter-group">
        <select id="categorySelector" class="filter form-control">
            <option value="">All Categories</option>
            <option value="Pizza">Pizza</option>
            <option value="Drinks">Drinks</option>
            <!-- Add more categories as needed -->
        </select>
    </div>
    <div id="regionFilters" class="filter-group">
        <select id="regionSelector" class="filter form-control">
            <option value="">All Regions</option>
            <option value="North">North</option>
            <option value="South">South</option>
            <!-- Add more regions as needed -->
        </select>
    </div>
    <select id="stateSelector" class="filter form-control">
        <option value="">All States</option>
        {% for state in states %}
            <option value="{{ state }}">{{ state }}</option>
        {% endfor %}
    </select>

    <button id="filterButton" class="btn btn-primary mt-3">Show Chart</button>
</div>
<div id="chartContainer">
    <div class="spinner" id="loadingSpinner" style="display:none;">Loading...</div>
    <div id="chart" style="width: 100%; height: 400px;"></div>

</div>
<script src="../static/js/scripts.js"></script>
</body>
</html>
